# 詳細な仕様

## ページ共通

- ヘッダーの検索バーから地域を検索し、その地域の天気を表示できる
    - 検索バーのクリックでダイアログが表示され、地域名や経緯度を入力するとリアルタイムでAPIを叩いて地域を検索できる
        - 入力のたびにAPIリクエストを送るのではなく、debounceを実装して最後に入力されてから350msにリクエストを送るようにしている
    - 検索結果はリンクになっており、クリックやフォーカスを合わせてエンターを押すことで遷移することができる
        - 遷移先は現在いるページに応じて変わり、現在の天気ページならその地域の現在の天気、指定日の天気ページならその地域の指定日の天気ページに遷移する
    - 未検索時、地域が見つからなかったとき、エラーが発生したときにはダイアログの中に対応するメッセージを表示する
    - 検索中であることがわかりやすいようにインジケーターが表示する
    - 検索ダイアログはキーボードで操作することができ、入力中にもキーボードのUpとDownで検索結果にフォーカスを当てて、Enterで遷移することができる
    - 画面幅が大きいときはダイアログを画面の中央に配置し、画面幅が小さいときは全画面に表示する
        - 全画面に表示されているときには、検索欄の隣にキャンセルボタンを配置してダイアログが閉じられるようにする

- 天気情報取得に使用しているWeatherAPIへのリクエストは基本的にはRSCから行い、フロントエンドにAPI Keyを露出しないようにする
    - 検索バーなど、フロントエンドからリクエストを行う必要がある際にはNext.jsのRoute HandlerでAPIを実装する

- 各ページでハンドリングしないエラーは、カスタムエラーページを使用して知らせる
    - 誤ったURLでエラーが発生している可能性があるため、ホーム画面へのリンクを用意する

## 現在の天気ページ

- 検索された地域の現在の天気情報が表示される
    - 今日の天気ページ(指定日の天気ページ)に遷移することができる

- 検索された地域の今後の天気情報が表示される
    - (2025年2月10日までは使用しているWeatherAPIのトライアルプランに加入しているため、今日も含めて最大14日表示できるが、それ以降は3日間表示される)
    - 今後の天気は画面幅が大きいときは1行に情報が表示されるが、画面幅が小さくなると2行に情報が表示される

## 指定日の天気ページ
